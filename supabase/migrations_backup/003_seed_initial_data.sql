-- 簡化的資料遷移腳本
-- 移除舊的複雜資料，改用簡單的測試資料

-- ============================================
-- 1. 建立測試使用者 Profile
-- ============================================

INSERT INTO public.profiles (id, user_id, username, display_name, bio, created_at)
VALUES (
  '00000000-0000-0000-0000-000000000001'::uuid,
  '00000000-0000-0000-0000-000000000001'::uuid,
  'demo_user',
  '示範使用者',
  '戶外探險愛好者',
  now()
)
ON CONFLICT (id) DO NOTHING;

-- ============================================
-- 2. 插入測試旅程（2 筆）
-- ============================================

INSERT INTO public.trip (id, user_id, slug, title, description, location, images, tags, created_at)
VALUES
  (
    'a1111111-0000-0000-0000-000000000001'::uuid,
    '00000000-0000-0000-0000-000000000001'::uuid,
    'kumano-kodo',
    '日本熊野古道 4 天 3 夜',
    '人生第一次去日本，選擇日本朝聖之路「熊野古道中邊路」作為日本旅行的前部曲。',
    '中邊路',
    ARRAY['/trail1.jpg', '/trail2.jpg'],
    ARRAY['#熊野古道', '#朝聖之路', '#輕量化'],
    now()
  ),
  (
    'a2222222-0000-0000-0000-000000000002'::uuid,
    '00000000-0000-0000-0000-000000000001'::uuid,
    'jade-mountain',
    '玉山主峰單攻',
    '台灣百岳之首，海拔 3952 公尺。',
    '玉山主峰',
    ARRAY['/mountain1.jpg'],
    ARRAY['#百岳', '#單攻', '#登山'],
    now()
  )
ON CONFLICT (id) DO NOTHING;

-- ============================================
-- 3. 插入測試裝備（5 筆）
-- ============================================

INSERT INTO public.gear (id, user_id, name, category, description, image_url, specs, tags, created_at)
VALUES
  (
    'b1111111-0000-0000-0000-000000000001'::uuid,
    '00000000-0000-0000-0000-000000000001'::uuid,
    'Stellaridge Tent 1',
    '睡眠系統',
    '超輕量單人帳篷',
    '/tent.jpg',
    '{"brand": "mont-bell", "weight_g": 1350, "price_twd": 8000}'::jsonb,
    ARRAY['#單人帳', '#輕量化'],
    now()
  ),
  (
    'b2222222-0000-0000-0000-000000000002'::uuid,
    '00000000-0000-0000-0000-000000000001'::uuid,
    'Stretch M550 睡袋',
    '睡眠系統',
    '羽絨睡袋，舒適溫度 -5°C',
    '/sleeping-bag.jpg',
    '{"brand": "Chinook", "weight_g": 1000, "fill_power": "750+FP"}'::jsonb,
    ARRAY['#羽絨睡袋'],
    now()
  ),
  (
    'b3333333-0000-0000-0000-000000000003'::uuid,
    '00000000-0000-0000-0000-000000000001'::uuid,
    'TUFF 單日健行背包',
    '背負系統',
    '20L 輕量化背包',
    '/backpack.jpg',
    '{"brand": "HANCHOR", "weight_g": 652, "capacity_l": 20}'::jsonb,
    ARRAY['#背包'],
    now()
  ),
  (
    'b4444444-0000-0000-0000-000000000004'::uuid,
    '00000000-0000-0000-0000-000000000001'::uuid,
    'HA11 頭燈',
    '電子配備',
    '輕量化頭燈',
    '/headlamp.jpg',
    '{"brand": "NITECORE", "weight_g": 36, "lumens": 1000}'::jsonb,
    ARRAY['#輕量化', '#LED'],
    now()
  ),
  (
    'b5555555-0000-0000-0000-000000000005'::uuid,
    '00000000-0000-0000-0000-000000000001'::uuid,
    '碳纖維登山杖',
    '其他',
    '可折疊輕量登山杖',
    '/trekking-pole.jpg',
    '{"brand": "Cascade Mountain Tech", "weight_g": 414, "sections": 3}'::jsonb,
    ARRAY['#登山杖'],
    now()
  )
ON CONFLICT (id) DO NOTHING;

-- ============================================
-- 4. 建立旅程與裝備的關聯（測試資料）
-- ============================================

INSERT INTO public.trip_gear (trip_id, gear_id)
VALUES
  ('a1111111-0000-0000-0000-000000000001'::uuid, 'b1111111-0000-0000-0000-000000000001'::uuid),
  ('a1111111-0000-0000-0000-000000000001'::uuid, 'b2222222-0000-0000-0000-000000000002'::uuid),
  ('a1111111-0000-0000-0000-000000000001'::uuid, 'b3333333-0000-0000-0000-000000000003'::uuid),
  ('a2222222-0000-0000-0000-000000000002'::uuid, 'b3333333-0000-0000-0000-000000000003'::uuid),
  ('a2222222-0000-0000-0000-000000000002'::uuid, 'b4444444-0000-0000-0000-000000000004'::uuid)
ON CONFLICT DO NOTHING;

